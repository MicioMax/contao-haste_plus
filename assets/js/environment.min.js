(function(a){a.extend(HASTE_PLUS,{getParameterByName:function(c,b){if(!b){b=window.location.href}c=c.replace(/[\[\]]/g,"\\$&");var e=new RegExp("[?&]"+c+"(=([^&#]*)|&|#|$)"),d=e.exec(b);if(!d){return null}if(!d[2]){return""}return decodeURIComponent(d[2].replace(/\+/g," "))},addParameterToUri:function(d,b,e){if(!d){d=window.location.href}var c=new RegExp("([?&])"+b+"=.*?(&|#|$)(.*)","gi"),g;if(c.test(d)){if(typeof e!=="undefined"&&e!==null){return d.replace(c,"$1"+b+"="+e+"$2$3")}else{g=d.split("#");d=g[0].replace(c,"$1$3").replace(/(&|\?)$/,"");if(typeof g[1]!=="undefined"&&g[1]!==null){d+="#"+g[1]}return d}}else{if(typeof e!=="undefined"&&e!==null){var f=d.indexOf("?")!==-1?"&":"?";g=d.split("#");d=g[0]+f+b+"="+e;if(typeof g[1]!=="undefined"&&g[1]!==null){d+="#"+g[1]}return d}else{return d}}},addParametersToUri:function(d,c){for(var b in c){if(c.hasOwnProperty(b)){d=this.addParameterToUri(d,b,c[b])}}return d},removeParameterFromUri:function(d,g){var f=d.split("?");if(f.length>=2){var e=encodeURIComponent(g)+"=";var c=f[1].split(/[&;]/g);for(var b=c.length;b-->0;){if(c[b].lastIndexOf(e,0)!==-1){c.splice(b,1)}}d=f[0]+"?"+c.join("&");return d}else{return d}},removeParametersFromUri:function(d,c){for(var b in c){d=this.removeParameterFromUri(d,b)}return d},replaceParameterInUri:function(c,b,d){this.addParameterToUri(this.removeParameterFromUri(c,b),b,d)}})}(jQuery));